name: Build, Test, and Deploy

on:
  push:
    branches:
      - ft-blogTesting-004
      - main
      - new-githActitions


jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3
        
      - name: Use Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}

      - name: Install Dependencies
        run: npm install

  test:
    needs: build
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Code
      uses: actions/checkout@v3

    - name: Use Node.js 
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}

    - name: Install Dependencies
      run: npm install

  # deploy:
  # needs: test
  # runs-on: ubuntu-latest
  # steps:
  # name: Checkout Code
  # uses: actions/checkout@v3

  # -name: setup Node.js
  #  uses: actions/setup-node@v3
  #  with:
  #  node-version: ${{ matrix.node-version }}

  # - name: Install Dependencies
  #   run: npm install
  #   name: Deploy
  #   run: npm start
    
  #   strategy:
  #     matrix:
  #       node-version: [14.x, 16.x, 18.x]
    
  #   steps:
  #   - uses: actions/checkout@v3
  #   - name: Use Node.js ${{ matrix.node-version }}
  #     uses: actions/setup-node@v3
  #     with: 
  #       node-version: ${{ matrix.node-version }}
  #       cache: 'npm'
  #   - run: npm ci
  #   - run: npm run build --if-present
  #   - run: npm test
